{% extends 'layouts/app.html' %}
{% import 'macros/form.html' as f with context %}

{% block title %}Update - {{ 'site_name'|site_name_filter }}{% endblock %}

{% block body %}
  <div class="row mt-10">
    <div class="col-md-4 col-md-offset-4 well">
      {% call f.form_tag('user.update_credentials') %}
        <legend>Update your username or password</legend>
        <p class="small help-block sm-margin-bottom">
          Enter your current password to make any changes.
        </p>

        {% call f.form_group(form.current_password, css_class='lg-margin-bottom',
                             autofocus='autofocus', placeholder='Current password') %}
        {% endcall %}

        {% call f.form_group(form.email, css_class='sm-margin-bottom') %}
        {% endcall %}

        {% call f.form_group(form.username, css_class='sm-margin-bottom', placeholder='Username') %}
        {% endcall %}

        {% call f.form_group(form.password, css_class='sm-margin-bottom',
                             placeholder='New password (optional)') %}
        {% endcall %}
        {% call f.form_group(form.confirm, css_class='sm-margin-bottom', placeholder='Confirm new password') %}
        {% endcall %}

        <div class="row">
          <div class="col-md-6">
            <button type="submit" class="btn bg-indigo-500 btn-block">
              Save
            </button>
          </div>
          <div class="col-md-6">
            <div class="visible-xs visible-sm sm-margin-top"></div>
            <a href="{{ url_for('user.settings', subdomain=subdomain) }}"
               class="btn btn-default btn-block">
              Cancel
            </a>
          </div>
        </div>
      {% endcall %}
    </div>
  </div>
{% endblock %}

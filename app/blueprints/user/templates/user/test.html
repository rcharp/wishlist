{% import 'macros/flash.html' as flash with context %}
<!DOCTYPE html>
<!--[if IE 9]>         <html class="ie9 no-focus" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-focus" lang="en"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">

        <title>Settings - {{ 'site_name'|site_name_filter }}</title>

        <meta name="description" content="OneUI - Admin Settings Template &amp; UI Framework created by pixelcave and published on Themeforest">
        <meta name="author" content="pixelcave">
        <meta name="robots" content="noindex, nofollow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

        <!-- Icons -->
        <!-- The following icons can be replaced with your own, they are used by desktop and mobile browsers -->
        <link rel="shortcut icon" href="{{ url_for('static', filename='logo/favicon.ico', subdomain=subdomain) }}">

        <link rel="icon" type="image/png" href="../../../../static/logo/logo.png" sizes="16x16">
        <link rel="icon" type="image/png" href="../../../../static/logo/logo.png" sizes="32x32">
        <link rel="icon" type="image/png" href="../../../../static/logo/logo.png" sizes="96x96">
        <link rel="icon" type="image/png" href="../../../../static/logo/logo.png" sizes="160x160">
        <link rel="icon" type="image/png" href="../../../../static/logo/logo.png" sizes="192x192">
        <!-- END Icons -->

        <link href="https://fonts.googleapis.com/css?family=Baloo+Bhaina+2" rel="stylesheet">
        <link rel=stylesheet type=text/css href="{{ url_for('static', filename='icons/icons.css', subdomain=subdomain) }}">

        <!-- Tailwind CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tailwindcss/ui@latest/dist/tailwind-ui.min.css">

        <!-- END Stylesheets -->
    </head>
    <body>
        <div class="h-screen flex overflow-hidden bg-gray-100">
          {% with page='test' %}{% include '/user/includes/sidebar.html' ignore missing %}{% endwith %}
          <div class="flex flex-col w-0 flex-1 overflow-hidden">
            <div class="relative z-10 flex-shrink-0 flex h-16 bg-white shadow">
              <button class="px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:bg-gray-100 focus:text-gray-600 md:hidden" aria-label="Open sidebar">
                <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
                </svg>
              </button>
              <div class="flex-1 px-4 flex justify-between">
                <div class="flex-1 flex">
                  <div class="w-full flex md:ml-0">
                    <label for="search_field" class="sr-only">Search</label>
                    <div class="relative w-full text-gray-400 focus-within:text-gray-600">
                      <div class="absolute inset-y-0 left-0 flex items-center pointer-events-none">
                        {#<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" />
                        </svg>#}
                      </div>
                        <div id="search_field" class="block w-full h-full pl-8 pr-3 py-2 rounded-md text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 sm:text-sm"></div>
                    </div>
                  </div>
                </div>
                <div class="ml-4 flex items-center md:ml-6">
                  {% if current_user.is_authenticated %}
                      {% include '/user/includes/user_dropdown.html' ignore missing %}
                  {% else %}
                      {% include '/user/includes/header_buttons.html' ignore missing %}
                  {% endif %}
                </div>
              </div>
            </div>

          <main class="flex-1 relative z-0 overflow-y-auto pt-2 pb-6 focus:outline-none md:py-6" tabindex="0">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8">
                <div class="bg-white shadow overflow-hidden  sm:rounded-lg">
                  <div class="px-4 py-5 sm:p-0">
                      <div id="wishlist-widget" />
                        <script src="https://code.jquery.com/jquery-3.5.1.min.js"
                        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
                        crossorigin="anonymous"></script>

                      <script src="(function(){var css = document.createElement(\'link\');css.href=\'embedjs.css\';css.rel=\'stylesheet\';css.type=\'text/css\';document.getElementsByTagName(\'head\')[0].appendChild(css);$(document).ready(function() {$form = $(\'<form id=\'jsembed\' action=\'/tokenize/\' method=\'POST\'></form>\');$form.append(\'<label>Title</label>\');$form.append(\'<br>\')$form.append(\'<input type=\'text\' class=\'title\' name=\'title\' value=\'\'>');$form.append(\'<br>\')$form.append(\'<label>Details</label>\');$form.append(\'<br>\')$form.append(\'<input type=\'text\' class=\'details\' name=\'details\' value=\'\'>\');$form.append(\'<br>\')$form.append(\'<button>Submit</button>\');$(widget).html($form);$(\'#jsembed\').submit(function(e) {e.preventDefault();var form = $(this);var serialized_form = form.serialize();serialized_form += \'&username=\' + localStorage.getItem(\'username\');jwt_token = \'\';$.post({url: form.attr(\'action\'),data: serialized_form}).always(function(data) {// Data was successfully encoded with JWTif(data.status == 200){jwt_token = data.responseText;$.post({url: \'/submit/\',data: \'token=\' + jwt_token});} else {// Failure behavior}});});});});"></script>
                  </div>
                </div>
            </div>
          </main>


          </div>
        </div>
        <!-- END Page Container -->
        <!-- jQuery -->
        <script src="{{ url_for('static', filename='oneui/assets/js/core/jquery.min.js', subdomain=subdomain) }}"></script>

        <script>
            function ShowDropdown(id) {
                var dropdown = document.getElementById(id);
                if (dropdown.classList.contains('opacity-0')){
                    dropdown.classList.remove('opacity-0');
                    dropdown.classList.remove('scale-95');
                    dropdown.classList.add('opacity-100');
                    dropdown.classList.add('scale-100');

                    dropdown.style.display = '';
                }
                else {
                    dropdown.classList.remove('opacity-100');
                    dropdown.classList.remove('scale-100');
                    dropdown.classList.add('opacity-0');
                    dropdown.classList.add('scale-95');

                    dropdown.style.display = 'none';
                }
            }
        </script>
        <script>
            var body = document.getElementsByTagName("body")[0];
            var except = document.getElementById('user-dropdown-menu');

            body.addEventListener("click", function () {
                except.classList.remove('opacity-100');
                except.classList.remove('scale-100');
                except.classList.add('opacity-0');
                except.classList.add('scale-95');

                except.style.display = 'none';
            }, false);
            document.getElementById('user-menu').addEventListener("click", function (ev) {
                ev.stopPropagation();
            }, false);
        </script>
    </body>
</html>
